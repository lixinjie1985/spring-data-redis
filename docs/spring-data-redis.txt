5.3 RedisConnection and RedisConnectionFactory，用于获取到redis的链接，是一个统一的抽象
可以进行异常转换，根据底层配置，可以返回一个新的链接或已存在链接（如使用连接池技术）
最简单的方式是在容器中配置RedisConnectionFactory，并注入到使用它的类中，其中依赖Jedis的
一个实现类是JedisConnectionFactory，可以指定IP，用户名，密码

5.5 通过RedisTemplate操作对象，该类是核心，提供了与redis交互的高层抽象，RedisConnection提
供了低层的方法来操作二进制字节，RedisTemplate会关注序列化和链接管理，可以让用户不操这个心，
且提供更丰富的操作视图，是线程安全的，可以被多线程重复使用。大部分操作使用基于java的序列化器
序列化机制可以很容易地被替换，可以把序列化器设置为null来直接操作字节数组

5.6 聚焦字符串的方便类，StringRedisConnection，DefaultStringRedisConnection，
StringRedisTemplate，是方便的对于字符串操作的一站式解决方案，使用StringRedisSerializer序列
化器，这种编码人类更容易看懂，可以使用RedisCallback的doInRedis方法来直接操作RedisConnection

5.7 序列化器

5.8 哈希映射

5.9 Redis消息/发布订阅

5.10 Redis事务，默认禁用，需要显式开启，RedisConnection会绑定到当前线程来触发MULTI，如果没有
错误，EXEC将被调用，否则DISCARD，一旦在MULTI当中，RedisConnection将排队写操作，所有的读操作
将到另一个新的RedisConnection上

5.11 管道，一次性向服务器端发送多个命令，一次性的读取多个结果，由于减少了网络传输，所以提供了
性能

5.12 Redis脚本，Lua

5.13 支撑类，基于redis存储实现的多种可复用组件，如JDK的原子操作包，集合包的实现

6.1 启用Redis集群，RedisClusterConnection扩展了RedisConnection，用来和集群通信和转换异常，使用
RedisClusterConfiguration来配置RedisConnectionFactory
spring.redis.cluster.nodes，spring.redis.cluster.max-redirects

6.2 使用Redis集群链接，如果一个命令涉及到多个key，必须保证所有的key都位于同一个哈希槽上，否则产生
异常，一个集群节点只能够服务于它上面有的key集合，如果key不在它上面，它无法服务，例如要获取所有的key
的话，必须去所有的主节点都获取key，然后在累积在一起。底层的驱动会处理哈希槽重定向问题，高层的功能涉
及到跨多节点时，已由RedisClusterConnection来处理，对用户来说是透明的。跨节点的操作如MGET，如果所
有的key都映射到同一个哈希槽，则该命令直接调用底层驱动类库来完成，然而一旦不是上面这种情况，
RedisClusterConnection将并行地执行多个GET命令分别获取值，然后再把这些值累积到一起返回，很明显这样
性能不好，应该慎用，也有办法让多个key位于同一个哈希槽上，那就是使用大括号，且大括号里的值一样就行，
{my-prefix}.foo和{my-prefix}.bar，此时只用大括号里的值来计算哈希
注意，并不是所有的多key命令都可以拆成多个单key命令来执行然后再累积结果

6.3 使用RedisTemplate和集群操作，RedisTemplate通过ClusterOperations接口提供访问集群的特定操作，

7 Redis仓库，可以把Java对象存储到Redis里的哈希，应用自定义映射策略和二级索引，要求Redis:2.8.0+

7.1 使用，@RedisHash和@org.springframework.data.annotation.Id用来创建设计存储到哈希时用的key，
有专门的仓库接口CrudRepository来进行存取，我们可以定义一个PersonRepository来继承仓库接口
CrudRepository<Person, String>，且不用提供实现类，就像mybatis里的Mapper接口一样，只要进行一些
配置，如@EnableRedisRepositories，spring-data-redis会在运行时来实现我们的接口，具体参考官方
文档该章节。其中@RedisHash可以用来指定键空间

7.2 对象到哈希的映射，使用RedisConverter把对象的属性值和redis的字节数组互相转换，可以在
CustomConversions里注册自定义Converter，